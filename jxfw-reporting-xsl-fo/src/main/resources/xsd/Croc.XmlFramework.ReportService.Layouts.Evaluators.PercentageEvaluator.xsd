<?xml version="1.0" encoding="windows-1251"?>
<xs:schema 
    targetNamespace="Croc.XmlFramework.ReportService.Layouts.Evaluators.PercentageEvaluator" 
    xmlns="Croc.XmlFramework.ReportService.Layouts.Evaluators.PercentageEvaluator" 
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    elementFormDefault="qualified">

    <xs:element name="evaluator">
        <xs:annotation>
            <xs:documentation><![CDATA[
            Подсчет процента
            атрибуты:
            value - 
                текущее значение (либо явно, либо из параметра {@parameter-name}, 
                либо из RS {#rs-column-name})
            total - значение 100% (либо явно, либо из параметра, либо из RS)
            when-total-is-zero - 
                необязательный атрибут, значение, возвращаемое в 
                случае равенства делителя нулю (либо null)
            rounded-digits - 
                необязательный атрибут, количество цифр после запятой после округления
            need-percent-symbol - 
                необязательный атрибут, признак приписывания символа "%"
            replace-substring - 
                необязательный атрибут, значение подстроки подлежащее замене 
                вычисленным процентом (для использования в заголовке отчета)
            ]]>
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute 
                name="assembly" 
                use="optional" 
                default="Croc.XmlFramework.ReportService.dll">
                <xs:annotation>
                    <xs:documentation>Имя сборки</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute 
                name="class" 
                use="optional" 
                default="Croc.XmlFramework.ReportService.Layouts.Evaluators.PercentageEvaluator">
                <xs:annotation>
                    <xs:documentation>Полное имя класса</xs:documentation>
                </xs:annotation>                    
            </xs:attribute>
            <xs:attribute name="message" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>Текст ошибки</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="data-source" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>Источник данных на основании которого заполняются параметры</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="value" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>текущее значение (либо явно, либо из параметра {@parameter-name}, либо из RS {#rs-column-name})</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="total" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>значение 100% (либо явно, либо из параметра {@parameter-name}, либо из RS {#rs-column-name})</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="when-total-is-zero" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>необязательный атрибут: значение, возвращаемое в случае равенства делителя нулю (либо null)</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="rounded-digits" type="xs:decimal" use="optional" default="2">
                <xs:annotation>
                    <xs:documentation>необязательный атрибут, количество цифр после запятой после округления, по умолчанию - 2</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="need-percent-symbol" type="xs:boolean" use="optional" default="1">
                <xs:annotation>
                    <xs:documentation>необязательный атрибут, признак приписывания символа "%"</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="replace-substring" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>необязательный атрибут, значение подстроки подлежащее замене вычисленным процентом (для использования в заголовке отчета)</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
</xs:schema>
